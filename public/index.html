<!DOCTYPE html>
<html>
<title>API Rest para mensajería con WhatsApp!</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
<head>

<style>
.markdown-section pre {
    overflow: auto;
    word-wrap: normal !important;
    margin: 0;
    padding: .85em 1em !important;
    margin-bottom: 1.275em !important;
    background: #f7f7f7;
}
.markdown-section code, .markdown-section pre {
    font-family: Consolas,"Liberation Mono",Menlo,Courier,monospace;
    direction: ltr;
    margin: 0;
    padding: 0;
    border: none;
    color: inherit;
}
.markdown-section blockquote, .markdown-section code, .markdown-section figure, .markdown-section img, .markdown-section pre, .markdown-section table, .markdown-section tr {
    page-break-inside: avoid;
}
.markdown-section * {
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    font-size: inherit;
}

.tachado {text-decoration: line-through;}
a.version {text-decoration: none;}
a.version:hover {text-decoration: underline;}

.success {
    background-color: #4CAF50;
    color: white;
    padding-left: 0.5em;
    border-radius: 5px;
    width: 28%;
}
.warning {
    /*font-family: Circular-Loom !important;*/
    background-color: lightgoldenrodyellow !important;
}

.center { margin:auto;}
</style>
</head>
<body>

    <!-- Header -->
<header class="w3-container w3-theme w3-padding" id="myHeader" style="background-color: #181818!important;">
  
  <div class="w3-center">
    <h1 class="w3-xxxlarge w3-animate-bottom">API Rest para mensajería con WhatsApp!</h1>
    <h4>Desarrollado con Node.js + Twilio por David Rodríguez Prada</h4>
      
  </div>
</header>

<div class="w3-center">
   <br>
  <h2 class="success center">Versión 1.2.0</h2>
  <p>Las llamadas a la API listadas abajo se implementan como peticiones HTTP de tipo GET para poder utilizarlas todas desde la URL de tu navegador.</p>
</div>
</div>

<!--API Rest-->
<div class="w3-row-padding">
    <div class="w3">
    <div class="w3-card white">
    <div class="w3-container w3-theme" style="background-color: #181818!important;">
        <h3 >API Rest</h3>
    </div>
    
    <ul class="w3-ul w3-border-top">
        
        <li>
            <section class="normal markdown-section">
                <pre class="warning"><code>mi_url</code> es la ruta que se encuentra en la caja de texto ubicada ahora mismo en la barra de navegación de tu navegador.</pre>
            </section>
        </li>

        <li>
            <section class="normal markdown-section">
                <h3><strong>CrearMensaje:</strong> envía un WhatsApp con un :texto, :to es el número de teléfono destinatario en formato E.164 (ejemplo +34 612345789)
                    [, :mediaUrl es la url de un archivo adjunto opcional]. La url opcional debe ir con encodeURIComponent en la petición GET para codificar las barras "/".
                    Ejemplo: http://mi_url/api/CrearMensaje/Hola desde la API Rest!/34612345789
                </h3>
                <pre><code>GET mi_url/api/CrearMensaje/:texto/:to/:mediaUrl?</code></pre>
                <pre><code>POST mi_url/api/CrearMensaje  { "texto":texto del WhatsApp, "to":teléfono destinatario, "mediaUrl": url al archivo adjunto (opcional) }</code></pre>
            </section>
        </li>

        <li>
            <section class="normal markdown-section">
                <h3><strong>GetMensaje:</strong> obtiene un objeto json con el WhatsApp enviado por su identificador :sid.</h3>
                <pre><code>GET mi_url/api/GetMensaje/:sid</code></pre>
            </section>
        </li>
        
        <li>
            <section class="normal markdown-section">
                <h3><strong>GetAllMensajes:</strong> obtiene un array de objetos json con todos los WhatsApp enviados.</h3>
                <pre><code>GET mi_url/api/GetAllMensajes</code></pre>
            </section>
        </li>
        
        <li>
            <section class="normal markdown-section">
                <h3><strong>GetAllMensajes:</strong> obtiene un array de objetos json solo con la :propiedad indicada con todos los WhatsApp enviados.</h3>
                <pre><code>GET mi_url/api/GetAllMensajes/:propiedad</code></pre>
            </section>
        </li>
        
        <li>
            <section class="normal markdown-section">
                <h3><strong>GetUltimoMensaje:</strong> obtiene un objeto json del último WhatsApp enviado.</h3>
                <pre><code>GET mi_url/api/GetUltimoMensaje</code></pre>
            </section>
        </li>

        <li>
            <section class="normal markdown-section">
                <h3><strong>BorrarMensaje:</strong> elimina el WhatsApp indicado por su identificador :sid.</h3>
                <pre><code>GET mi_url/api/BorrarMensaje/:sid</code></pre>
            </section>
        </li>

    </ul>
    
    </div>
    </div>
    <hr>
</div>



<!--Lista-->
<div class="w3-row-padding">

    <div class="w3">
    <div class="w3-card-4 w3-container">
    <h2>Próximas versiones</h2>
    <p class="success">No te preocupes. Se cuidará la API Rest.</p>
    <ul class="w3-ul w3-margin-bottom">
      <li class="tachado"><a class="version" href="/changelog/version1.1.0.txt" target="_blank">Version 1.1.0</a></li>
      <li class="tachado"><a class="version" href="/changelog/version1.2.0.txt" target="_blank">Version 1.2.0</a></li>
      <li><a class="version" href="/changelog/version1.3.0.txt" target="_blank">Version 1.3.0</a></li>
    </ul>
    
    </div>
    </div>
</div>


<br>

<!-- Footer -->
<footer class="w3-container w3-theme-dark" style="background-color: #181818!important;">
  
  <p>Contacto: <a href="mailto:drodriguez@educaria.com" target="_blank">David Rodríguez Prada</a></p>
  <p style="font-size: 0.8em;">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
  <div style="position:relative;bottom:55px;" class="w3-tooltip w3-right">
    <span class="w3-text w3-theme-light w3-padding">Go To Top</span>    
    <a class="w3-text-white" href="#myHeader"><span class="w3-xlarge">
    <i class="fa fa-chevron-circle-up"></i></span></a>
  </div>
  
</footer>



</body>
</html>
